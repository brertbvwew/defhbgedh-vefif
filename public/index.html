<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NEBULA HOST || Server Link</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      /* Updated gradient: Deeper blues and purples */
      background: radial-gradient(circle at 20% 20%, #0d112b, #0a0b1f 90%);
      color: #e2e8f0;
      font-family: "Poppins", system-ui, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    canvas#particles {
      position: fixed;
      inset: 0;
      z-index: 0;
      opacity: 0.6; /* Softened particles */
    }

    h1 {
      /* Changed to a bright blue accent */
      color: #7dd3fc;
      text-align: center;
      margin-bottom: 30px;
      letter-spacing: 2px;
      font-weight: 800;
      text-shadow: 0 0 10px #3b82f6, 0 0 30px rgba(59, 130, 246, 0.4);
    }

    .box {
      backdrop-filter: blur(30px) saturate(150%);
      /* Updated gradient: More transparent and blue/purple */
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.35), rgba(28, 18, 55, 0.45));
      /* Updated border: Bright blue */
      border: 1px solid rgba(59, 130, 246, 0.25);
      border-radius: 25px;
      padding: 45px;
      width: 90%;
      max-width: 500px;
      height: 85vh;
      overflow-y: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
      z-index: 2;
      box-shadow: 0 0 40px rgba(0,0,0,0.8), 0 0 60px rgba(59, 130, 246, 0.25);
    }

    .box::-webkit-scrollbar {
      display: none;
    }

    label {
      display: block;
      margin-top: 18px;
      color: #94a3b8;
      font-weight: 500;
      font-size: 0.9rem;
    }

    input {
      width: 100%;
      padding: 14px;
      margin-top: 8px;
      border-radius: 12px;
      /* Darker border, darker background */
      border: 1px solid rgba(59, 130, 246, 0.15);
      background: rgba(10, 15, 30, 0.5);
      color: #fff;
      font-size: 1rem;
      outline: none;
      transition: 0.3s;
    }

    input:focus {
      /* Updated focus: Bright blue */
      border-color: #3b82f6;
      background: rgba(10, 15, 30, 0.7);
      box-shadow: 0 0 12px rgba(59, 130, 246, 0.6);
    }

    button {
      margin-top: 30px;
      width: 100%;
      padding: 15px;
      font-size: 1.1rem;
      border: none;
      border-radius: 14px;
      font-weight: 700;
      cursor: pointer;
      color: #ffffff; /* Brighter text */
      /* Updated gradient: Blue to Purple/Pink, matching wisehosting style */
      background: linear-gradient(90deg, #3b82f6, #a855f7, #ec4899);
      background-size: 200% 100%;
      /* Updated shadow: Matches new gradient */
      box-shadow: 0 4px 25px rgba(59, 130, 246, 0.45);
      transition: 0.3s;
    }

    button:hover {
      background-position: right center;
      transform: translateY(-3px);
      box-shadow: 0 0 40px rgba(168, 85, 247, 0.65);
    }

    /* Countdown styling */
    #countdown {
      text-align: center;
      margin-top: 25px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #93c5fd;
      text-shadow: 0 0 15px rgba(147,197,253,0.5);
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      /* Updated glow: Blue to Purple */
      from { text-shadow: 0 0 5px #3b82f6, 0 0 10px #a855f7; }
      to { text-shadow: 0 0 15px #3b82f6, 0 0 30px #a855f7; }
    }

    pre {
      margin-top: 30px;
      background: rgba(8,11,25,0.75); /* Darker background */
      padding: 20px;
      border-radius: 12px;
      border: 1px solid rgba(59, 130, 246, 0.2); /* Blue border */
      font-size: 0.9rem;
      color: #93c5fd; /* Light blue text */
      line-height: 1.6;
    }
    
    /* === UPDATED SERVER SPECS === */
    .specs-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 30px;
    }

    .spec-card {
      /* Darker, cleaner card background */
      background: rgba(15, 23, 42, 0.6);
      /* Bright blue top border, like wisehosting cards */
      border-top: 3px solid #3b82f6;
      border-radius: 10px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .spec-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 25px rgba(59, 130, 246, 0.3);
    }

    .spec-icon {
      font-size: 2.2rem; /* Slightly smaller */
      margin-bottom: 10px;
      line-height: 1;
      color: #7dd3fc; /* Icon color */
    }

    .spec-title {
      font-weight: 600;
      color: #94a3b8; /* Subdued title */
      font-size: 0.8rem;
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .spec-value {
      color: #e2e8f0;
      font-size: 1rem;
      font-weight: 500;
    }
    /* === END UPDATED SPECS === */

    /* === UPDATED INFO SECTION === */
    .info-section {
      margin-top: 25px;
      padding: 20px;
      border-radius: 15px;
      background: rgba(15, 23, 42, 0.45);
      /* Matching blue border */
      border: 1px solid rgba(59, 130, 246, 0.2);
      /* Added top border for consistency */
      border-top: 3px solid rgba(59, 130, 246, 0.5);
    }

    .info-section h2 {
      /* Bright blue heading */
      color: #7dd3fc;
      text-align: center;
      margin-bottom: 10px;
    }

    .info-section p, .info-section ul {
      color: #a5b4fc; /* Kept light purple/blue text */
      font-size: 0.9rem;
    }

    .info-section ul {
      padding-left: 20px;
      list-style: disc;
    }

    .download-btn {
      display: block;
      margin: 20px auto 0;
      text-align: center;
      padding: 12px 20px;
      border-radius: 12px;
      font-weight: 600;
      color: #ffffff;
      /* Updated gradient: Matches main button */
      background: linear-gradient(90deg, #3b82f6, #a855f7);
      width: 80%;
      text-decoration: none;
      transition: 0.3s;
    }

    .download-btn:hover {
      box-shadow: 0 0 25px rgba(168, 85, 247, 0.4);
      transform: translateY(-2px);
    }

    .footer {
      margin-top: 20px;
      text-align: center;
      color: #475569;
      font-size: 0.85rem;
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>

  <div class="box">
    <h1>üöÄ NEBULA HOST</h1>

    <div id="paidFields">
      <label for="amount">Amount:</label>
      <input id="amount" type="number" value="500" readonly>

      <label for="hash">Base64 Hash:</label>
      <input id="hash" type="text" placeholder="Enter Base64 hash string">
    </div>

    <label for="phone">Phone Number:</label>
    <input id="phone" type="tel" placeholder="WhatsApp Number (e.g., 27884374xxx)">
    <button onclick="verify()">VERIFY & SUBMIT</button>

    <div id="countdown">Next server reset in: <span id="timer">Loading...</span></div>

    <pre id="output">Status: Ready to receive data...</pre>

    <div class="specs-container">
      <div class="spec-card">
        <div class="spec-icon">üíª</div>
        <div class="spec-title">Operating System</div>
        <div class="spec-value">Ubuntu</div>
      </div>
      <div class="spec-card">
        <div class="spec-icon">üñ•Ô∏è</div>
        <div class="spec-title">Processor</div>
        <div class="spec-value">Intel i5 / 4 Cores</div>
      </div>
      <div class="spec-card">
        <div class="spec-icon">üß†</div>
        <div class="spec-title">Memory</div>
        <div class="spec-value">6 GB RAM</div>
      </div>
      <div class="spec-card">
        <div class="spec-icon">üíΩ</div>
        <div class="spec-title">Storage</div>
        <div class="spec-value">1 TB NVMe SSD</div>
      </div>
    </div>
    <div class="info-section">
      <h2>‚öôÔ∏è System Guide</h2>
      <p>
        1Ô∏è‚É£ Enter your <strong>phone number</strong>.<br>
        2Ô∏è‚É£ Wait 1min or less u will get whatsapp notification tap it.<br>
        3Ô∏è‚É£ Login code: <strong>CODERXSA</strong>.<br>
         All sessions and links automatically refresh every <strong>Sunday at 00:00 UTC</strong> during the global server reset.<br><br>
        üí† If the system is in <strong>Free Mode</strong>, only your phone number is required for validation.<br>
        üí∞ In <strong>Paid Mode</strong>, both amount and Base64 hash are required.
      </p>
    </div>

    <div class="info-section">
      <h2>üìú Service Policy</h2>
      <ul>
        <li>‚ö†Ô∏è Linking on a reset day may result in data invalidation schedule responsibly.</li>
        <li>‚úîÔ∏è Verify that all submitted details are correct prior to submission.</li>
        <li>üïõ The system performs a global reset every Sunday at 00:00 UTC.</li>
        <li>üí† Execution of bot operations requires a minimum balance of <strong>500 NEBULA Coins</strong>.</li>
        <li>üåÄ Please remain patient during live verification or reset cycles.</li>
        <li>‚úîÔ∏è Limit to 20-30 groups to avoid ban.</li>
      </ul>
    </div>

    <div class="info-section">
      <h2>üì≤ Mobile Manager</h2>
      <a class="download-btn" href="https://play.google.com/store/apps/details?id=com.coderx.creditsocial">‚¨áÔ∏è Download Mobile App</a>
    </div>

    <div class="footer">Secure Decode Interface v3.0</div>
  </div>

<script>
  // === CONFIG FLAG ===
  const IS_FREE = true; // ‚úÖ true = Free mode, false = Paid mode
  const RESTART_HOUR_SAST = 20; // 8 PM SAST (UTC+2)
  const RESTART_DURATION_MINUTES = 60;

  // === Particle Background ===
  const canvas = document.getElementById("particles");
  const ctx = canvas.getContext("2d");
  let particles = [];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  class Particle {
    constructor() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.size = Math.random() * 2 + 1;
      this.speedX = (Math.random() - 0.5) * 1.3;
      this.speedY = (Math.random() - 0.5) * 1.3;
    }
    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      if (this.x < 0 || this.x > canvas.width) this.speedX *= -1;
      if (this.y < 0 || this.y > canvas.height) this.speedY *= -1;
    }
    draw() {
      /* Updated particle color */
      ctx.fillStyle = "rgba(59, 130, 246, 0.7)";
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fill();
    }
  }

  function initParticles(n = 120) {
    particles = [];
    for (let i = 0; i < n; i++) particles.push(new Particle());
  }

  function animateParticles() {
    /* Updated background clear */
    ctx.fillStyle = "rgba(8, 10, 26, 0.25)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => { p.update(); p.draw(); });
    requestAnimationFrame(animateParticles);
  }

  initParticles();
  animateParticles();

  // === Utility: Convert current time to UTC+2 ===
  function getSASTDate() {
    const now = new Date();
    return new Date(now.getTime() + 2 * 60 * 60 * 1000); // Add 2 hours
  }

  // === Countdown to next reset (for normal display) ===
  function startCountdown() {
    const timer = document.getElementById("timer");
    function updateCountdown() {
      const now = getSASTDate();
      const day = now.getDay();
      const daysUntilNextSunday = day === 0 ? 7 : 7 - day;

      const nextSunday8pm = new Date(
        now.getFullYear(),
        now.getMonth(),
        now.getDate() + daysUntilNextSunday,
        RESTART_HOUR_SAST,
        0,
        0
      );

      const diff = nextSunday8pm - now;
      if (diff <= 0) {
        timer.textContent = "üîÑ Restart in progress...";
        return;
      }

      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / 86400);
      const hours = Math.floor((totalSeconds % 86400) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      timer.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    updateCountdown();
    setInterval(updateCountdown, 1000);
  }

  startCountdown();

  // === Handle Free/Paid visibility ===
  const paidFields = document.getElementById("paidFields");
  if (IS_FREE) paidFields.style.display = "none";

  // === Restart lock system ===
  function checkRestartWindow() {
    const now = getSASTDate();
    const day = now.getDay();
    const hour = now.getHours();
    const minute = now.getMinutes();

    const output = document.getElementById("output");
    const inputs = document.querySelectorAll("input, button");
    const countdown = document.getElementById("timer");

    if (day === 0 && hour === RESTART_HOUR_SAST && minute < RESTART_DURATION_MINUTES) {
      // Within restart hour
      inputs.forEach(el => el.disabled = true);
      const remaining = RESTART_DURATION_MINUTES * 60 - (minute * 60 + now.getSeconds());
      const mins = Math.floor(remaining / 60);
      const secs = remaining % 60;
      output.textContent = `üõ†Ô∏è Server restart ‚Äî please come back after countdown.\nUnlocks in ${mins}m ${secs}s`;
      output.style.color = "#fbbf24";
      countdown.textContent = `Restart ends in ${mins}m ${secs}s`;
    } else {
      // Normal operation
      inputs.forEach(el => el.disabled = false);
    }
  }

  // Check every second
  setInterval(checkRestartWindow, 1000);

  // === Verify ===
  async function verify() {
    const amount = document.getElementById("amount").value.trim();
    const hash = document.getElementById("hash").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const output = document.getElementById("output");

    const intlPhoneRegex = /^[1-9]\d{7,14}$/;

    if (!phone) {
      output.textContent = "‚ö†Ô∏è Please enter a phone number.";
      output.style.color = "#f87171";
      return;
    } else if (!intlPhoneRegex.test(phone)) {
      output.textContent = "‚ö†Ô∏è (e.g., 27884xxxxxx).";
      output.style.color = "#f87171";
      return;
    }

    if (!IS_FREE && (!amount || !hash)) {
      output.textContent = "‚ö†Ô∏è Please provide amount and Base64 hash in Paid Mode.";
      output.style.color = "#f87171";
      return;
    }

    output.textContent = "‚è≥ Transmitting data... Awaiting server verification...";
    output.style.color = "#e2e8f0";

    try {
      const payload = IS_FREE
        ? { free: true, phoneNumber: phone }
        : { free: false, value: amount, hash, phoneNumber: phone };

      const res = await fetch('/verify', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
      });
      const data = await res.json();

      if (data.ok) {
        output.textContent = `‚úÖ SUCCESS\nMode: ${IS_FREE ? "Free" : "Paid"}\nMessage: ${data.message || "Verified successfully."}`;
        output.style.color = "#63e6be"; /* Kept success green */
      } else {
        output.textContent = `‚ùå FAILED\nReason: ${data.reason || data.error || "Unknown error"}`;
        output.style.color = "#f87171";
      }
    } catch (err) {
      output.textContent = "‚ùå Network Error: " + err.message;
      output.style.color = "#f87171";
    }
  }
</script>

</body>

</html>

